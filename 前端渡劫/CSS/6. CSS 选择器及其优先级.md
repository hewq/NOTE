## CSS 选择器及其优先级

### CSS 选择器

CSS 选择器是用来指定要应用样式的 HTML 元素的模式。通过选择器，我们可以精确地控制页面中的哪些元素应该应用哪些样式。

**选择器的种类**

- **简单选择器:** 直接选取 HTML 标签（如 `p`、`div`、`span` 等）。
- **类选择器:** 通过 class 属性来选择元素（如 `.myclass`）。
- **ID 选择器:** 通过 id 属性来选择元素（如 `#myid`）。
- **属性选择器:** 通过元素的属性来选择元素（如 `a[href]`）。
- **后代选择器:** 选择某个元素的所有后代元素（如 `div p`）。
- **子元素选择器:** 选择某个元素的直接子元素（如 `div > p`）。
- **相邻兄弟选择器:** 选择紧随某个元素之后的同辈元素（如 `h1 + p`）。
- **通用选择器:** 选择所有元素（如 `*`）。
- **伪类选择器:** 选择处于某个状态的元素（如 `:hover`、`:active`）。
- **伪元素选择器:** 生成一个新的元素（如 `::before`、`::after`）。

**示例**

CSS

```
/* 选择所有段落 */
p {
  color: blue;
}

/* 选择 class 为 myclass 的元素 */
.myclass {
  background-color: red;
}

/* 选择 id 为 header 的元素 */
#header {
  font-size: 24px;
}
```

### CSS 选择器优先级

当多个选择器作用于同一个元素时，浏览器会根据选择器的优先级来决定应用哪个样式。优先级越高，越会被优先应用。

**优先级规则**

- **!important:** 具有最高优先级，但慎用，会破坏样式的层叠性。
- **行内样式:** 在 HTML 元素的 style 属性中定义的样式，优先级很高。
- **ID 选择器:** 优先级很高。
- **类选择器、属性选择器、伪类:** 优先级较低。
- **元素选择器、伪元素:** 优先级最低。

**计算优先级**

- 每个选择器都对应一个四位数的权重，分别代表： 
  - 内联样式 (0, 1, 0, 0)
  - ID 选择器 (0, 0, 1, 0)
  - 类选择器、属性选择器、伪类 (0, 0, 0, 1)
  - 类型选择器和伪元素 (0, 0, 0, 0)
- 将每个选择器的权重相加，得到总权重。
- 权重越高，优先级越高。

**示例**

CSS

```
/* 权重：0, 0, 1, 0 */
#mydiv {
  color: red;
}

/* 权重：0, 0, 0, 2 */
.myclass .myclass {
  color: blue;
}
```

如果两个选择器的权重相同，则后出现的样式会覆盖前面的样式。

### 总结

- 选择器是 CSS 的核心，用于精确地控制页面样式。
- 选择器的优先级决定了样式的应用顺序。
- 理解选择器和优先级是掌握 CSS 的基础。

**更多学习资源**

- **MDN Web Docs:** https://developer.mozilla.org/zh-CN/docs/Web/CSS/Specificity

**常见问题**

- 如何提高选择器的性能？
  - 尽量使用更具体的选择器，避免使用通配符。
  - 减少选择器的嵌套层级。
  - 合并相似的选择器。
- 如何解决样式冲突？
  - 使用 !important（慎用）。
  - 增加选择器的特异性。
  - 重写样式表。

**希望这个回答对你有帮助！** 如果你还有其他问题，欢迎随时提问。