**文档的预解析**（Document Preprocessing 或 Document Parsing）是指浏览器在加载和解析网页时，提前分析和处理一些页面内容，以便更高效地进行后续的渲染工作。它通常指的是在浏览器加载 HTML 文档的过程中，边解析边进行一些优化和准备工作，以减少渲染的延迟和提高页面的响应速度。

在浏览器渲染过程中，**预解析**包括了多种优化策略，主要是指浏览器在开始渲染页面之前，**预先加载和解析一些资源**，或者在 HTML 解析过程中提前识别出可能对渲染造成影响的内容，并加以处理。通过预解析，浏览器可以提前了解需要加载的关键资源（例如 CSS、JavaScript 或图片），并进行相应的优化，以减少等待时间。

### 具体的预解析过程包括：

1. **HTML 解析**：当浏览器加载 HTML 文档时，它会将 HTML 内容转化为 DOM 树。解析过程中，浏览器会遇到资源文件的引用（如 CSS、JavaScript、图片等）。这时浏览器会决定如何最优地加载这些资源。

2. **CSS 和 JS 文件预加载**：浏览器在解析 HTML 时，会预先识别 `<link>` 和 `<script>` 标签，以便尽早加载 CSS 样式表和 JavaScript 文件。这种预加载行为对于页面的首次渲染至关重要。

3. **资源的预解析与预加载**：

   - **<link rel="preload">**：指示浏览器在 HTML 解析阶段就开始加载指定的资源，而不是等待它们在文档中实际被使用时再加载。通过预加载关键资源，可以提前减少它们的加载时间，提升页面的响应速度。

     ```html
     <link rel="preload" href="style.css" as="style">
     ```

   - **<link rel="prefetch">**：用于告诉浏览器它可能会在将来的操作中使用到某些资源，因此可以在空闲时预先加载它们。预取不会阻塞页面渲染，只是将资源的加载延后，通常用于下一页面的资源加载。

     ```html
     <link rel="prefetch" href="next-page.js" as="script">
     ```

4. **HTML 属性预解析**：

   - 在页面解析时，浏览器会检查一些属性（如 `rel="preload"`，`rel="dns-prefetch"` 等），并决定是否需要提前加载某些资源。浏览器可以通过 `dns-prefetch` 提前解析域名，减少资源加载时的 DNS 查询延迟。

   ```html
   <link rel="dns-prefetch" href="https://example.com">
   ```

5. **JavaScript 的异步加载**： 在 HTML 文档中，浏览器会预解析 `<script>` 标签。如果没有加 `async` 或 `defer`，JavaScript 文件会阻塞 HTML 的解析和渲染。为了优化页面加载速度，很多页面会使用 `async` 或 `defer` 属性来标记 JavaScript 文件，指示浏览器异步或延迟加载这些脚本，从而避免阻塞渲染。

6. **页面内容的早期呈现**： 在文档预解析过程中，浏览器还会通过“早期显示”策略（例如，**首屏内容渲染**），尽早展示用户能看到的页面内容，而不是等到所有资源都加载完毕后才开始显示。这有助于减少页面空白时间，提高用户体验。

### 总结：

文档的预解析是在浏览器解析 HTML 文档并准备渲染页面的过程中，提前加载、解析或处理一些资源或页面内容，从而加快页面的渲染速度。通过使用 `preload`、`prefetch`、`dns-prefetch` 等标签，开发者可以告诉浏览器提前加载一些关键资源，减少页面加载的阻塞，使用户尽早看到内容，提高性能和用户体验。